<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

        //1 좀 더 직관적
        //2 await는 Promise 를 리턴하는 함수에서만 사용 가능
        //3 await는 async내에서만 사용 가능

    // a = () => {
    //     return new Promise((resolve)=>{
    //         setTimeout(()=>{
    //         console.log(1);    // 1을 출력하고 나서 call back(); 이 호출 되니까 이후에 2 호출됨     
    //         resolve();
    //     }, 1000);
    //     });
    // };
    // const b = () => console.log(2);
    
    // //a().then(()=>{b()});
    // // await :a 실행중이니까 b 기다려~


    // const wrap = async ()=>{
    //             await a();
    //             b();
    //         }
    // wrap();

        


    const getMovies = (movieName) => {
        return new Promise((resolve)=>{
            fetch(`https://www.omdbapi.com/?apikey=7035c60c&s=${movieName}`) // 쌍 따옴표안에 같이 쓰려면 ""이게 아니라 ``이거 써야함!!
            .then(res=> res.json()) // 매개변수가 1개일 때는 () 생략 가능!! retrun이랑 {}까지 생략 가능? 화살표 함수 문법 보기
            .then((res)=>{
                console.log(res, `${movieName}`);
                resolve();
                });
            });
        };

//

        const wrap = async () => {
        await getMovies('frozen')
        console.log("겨울왕국");

        await getMovies('avengers')
        console.log("어벤저스");

        await getMovies('avatar')
        console.log("아바타");
        }
        wrap();


        // getMovies('frozen')
        //     .then(getMovies('avengers'))
        //     .then(getMovies('avatar'));

        // getMovies('frozen')
        //     .then(()=>{console.log("겨울왕국");
        //         return getMovies('avengers')
        //     })
        //     .then(()=>{console.log("어벤저스");
        //         return getMovies('avatar')
        //     })
        //     .then(()=>console.log("아바타"));

    </script>
</head>
<body>

</body>
</html>