<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script type="module">
    // 동기 - 한 번에 한 번씩만! 비동기 - 하나의 작업중에도 다른 작업 가능

    // console.log(1);
    // console.log(2);
    // console.log(3);

    // 첫번째 비동기 처리 방식 - 시간처리
    setTimeout(()=>{console.log(2)}, 1);
    console.log(1);
    // setTimeout(함수, 1000); 함수를 1초 후에!
    console.log(3);

    // 두번째 비동기 처리 방식 - 클릭했을 때 나오는 이벤트 처리 같은것도 비동기!!
    const bteE1 = document.querySelector("h1");  // bteE1 에는 null 값이 들어옴!! script가 먼저 실행되니까!! 아니면 모듈로 타임을 지정하면 따로 실행되므로!!
    bteE1.addEventListener("click", 
        ()=>{console.log("Clicked")})
    console.log("clicked");
    console.log("Hellow World");

    // 세번째 비동기 처리방식
        fetch("https://www.omdbapi.com/?apikey=7035c60c&s=frozen")
        .then((res)=>{return res.json()})
        .then((res)=>{console.log(res)}); // 서버에 그냥 요청 보내면 됨!! httprespnse 객체 이거 안써두 됨!! 현재 그 서버에 접속한 상황

    console.log(1);//이게 출력 후 fatch가 출력됨!! fatct가 출력될때까지 기다리면 너무 손해자나
    console.log(2);
    console.log(3);

    //than(기능, 뭐 할건지 -> 함수 담으면 됨! 원래는 다른 곳에서 함수 만들었으나, 화살표함수로 그냥 만들 수 있음!!) 으로 넘겨서 계속 사용 가능!! 이게 체이닝 기능 연속적으로 메서드 호출 기능!!
    //res에 fetch에 담긴 내용 담은 것! 근데 지금 받아온 것은 json이지만 네트워크로 받는 것은 문자열이므로 json형식으로 바꿔줘야 함. 이게 return res.json()!!


    // 세번째 방식을 동기식으로 처리한다면?
    fetch("https://www.omdbapi.com/?apikey=7035c60c&s=frozen")
        .then(res=> res.json()) // 매개변수가 1개일 때는 () 생략 가능!! retrun이랑 {}까지 생략 가능? 화살표 함수 문법 보기
        .then((res)=>{
            console.log(res);
            console.log(1);
            console.log(2);
            console.log(3);
        });

</script>
<body>
    <div class="container">
        <h1>Hellow World</h1>
    </div>
</body>
</html>