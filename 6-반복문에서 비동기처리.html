<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>


    const getMovies = (movieName) => {
    return new Promise((resolve)=>{
        fetch(`https://www.omdbapi.com/?apikey=7035c60c&s=${movieName}`) // 쌍 따옴표안에 같이 쓰려면 ""이게 아니라 ``이거 써야함!!
        .then(res=> res.json()) // 매개변수가 1개일 때는 () 생략 가능!! retrun이랑 {}까지 생략 가능? 화살표 함수 문법 보기
        .then((res)=>resolve(res));
        });
    };

//

    // const wrap = async () => {
    // await getMovies('frozen')
    // console.log("겨울왕국");

    // await getMovies('avengers')
    // console.log("어벤저스");

    // await getMovies('avatar')
    // console.log("아바타");
    // }
    // wrap();

    const titles = ['frozen', 'avengers', 'avatar', 'avatar'];
    
    //반복문 메서드로 호출 가능!!

    // titles.forEach(async (title)=>{       //async시 비동기 시작!!
    //     const movies = await getMovies(title); //await시 순서 보장 불가!! - foreach를 쓰면 순서 유지 불가! 일반 반복문을 사용해야 순서 유지!!
    //     console.log(title, movies);
    // });  //titles이 title로 전해지고 title이 {}로 전해짐!!
        
    const wrap = async ()=>{
        for(const title of titles){
            const movies = await getMovies(title);
            console.log(title, movies);
        }
    }
    wrap();

</script>
</head>
<body>
    
</body>
</html>